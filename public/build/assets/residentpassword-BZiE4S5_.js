import{r as n,d as N,j as e,H as v,L as _}from"./app-Dp8eBqIU.js";import{I as i}from"./input-error-6ooYfC8i.js";import{B as y}from"./button-B99OZixS.js";import{I as l}from"./input-BPBq9ODa.js";import{L as d}from"./label-RmbyJBVD.js";import{X as C}from"./x-CosRwlaN.js";import{H as S,L}from"./log-out-BJ7NbZjK.js";import{U as F}from"./user-DtLczq3B.js";import{S as k}from"./shield-check-D7FC03LQ.js";import{F as E}from"./file-text-CLxDmEOh.js";import{S as I}from"./settings-dOOLNFQc.js";import{M as P}from"./menu-B9O67PPD.js";import{z as B}from"./transition-CGTU3sGU.js";import"./app-BLU9PWWC.js";import"./utils-BJ1vGYlN.js";import"./clsx-B-dksMZM.js";import"./index-5JiLXXvR.js";import"./index-DCCk8fkd.js";import"./createLucideIcon-BgI95zP9.js";function Z(){const[c,r]=n.useState(!1),{post:x,data:a,setData:t,put:f,processing:h,errors:o,recentlySuccessful:w}=N({current_password:"",password:"",password_confirmation:""}),m=n.useRef(null),p=n.useRef(null),g=()=>x("/logout"),j=s=>{s.preventDefault(),f("/resident/settings/password",{preserveScroll:!0,onError:u=>{u.password&&m.current?.focus(),u.current_password&&p.current?.focus()}})},b=[{name:"Home",icon:S,href:"/resident/home"},{name:"Profile",icon:F,href:"/resident/profile"},{name:"Barangay Official",icon:k,href:"/resident/officials"},{name:"Request Document",icon:E,href:"/resident/document-requests"},{name:"Settings",icon:I,href:"/resident/settings"}];return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Change Password"}),e.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[e.jsxs("aside",{className:`fixed inset-0 z-40 lg:static lg:w-80 bg-gradient-to-b from-blue-900 to-blue-800 shadow-2xl flex flex-col transition-transform duration-300 ${c?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[e.jsxs("div",{className:"p-8 border-b border-blue-700 flex flex-col items-center relative",children:[e.jsx("button",{className:"lg:hidden absolute top-6 right-6 text-white",onClick:()=>r(!1),children:e.jsx(C,{className:"w-6 h-6"})}),e.jsx("div",{className:"w-20 h-20 mb-3 flex items-center justify-center",children:e.jsx("img",{src:"/images/logo.png",alt:"Barangay Logo",className:"w-20 h-20 object-contain rounded-full"})}),e.jsx("h1",{className:"text-2xl font-bold text-white text-center",children:"Barangay Portal"})]}),e.jsx("nav",{className:"flex-1 p-6 space-y-1",children:b.map(s=>e.jsxs(_,{href:s.href,className:"flex items-center p-4 rounded-lg hover:bg-green-700/50 text-white transition group",children:[e.jsx(s.icon,{className:"w-5 h-5 mr-4 text-white group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:s.name})]},s.name))}),e.jsx("div",{className:"p-6 border-t border-blue-700",children:e.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center p-4 rounded-lg bg-blue-700/50 hover:bg-red-600 text-white transition group",children:[e.jsx(L,{className:"w-5 h-5 mr-3 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>r(!1)}),e.jsxs("main",{className:"flex-1 min-h-screen",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 p-8 lg:p-12 text-white shadow-lg flex justify-between items-center",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Change Password"}),e.jsx("button",{className:"lg:hidden text-white bg-blue-700/50 p-2 rounded-lg",onClick:()=>r(!0),children:e.jsx(P,{className:"w-7 h-7"})})]}),e.jsx("div",{className:"max-w-3xl mx-auto p-6 lg:p-10",children:e.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"current_password",children:"Current password"}),e.jsx(l,{id:"current_password",ref:p,name:"current_password",type:"password",value:a.current_password,onChange:s=>t("current_password",s.target.value),autoComplete:"current-password",placeholder:"Enter current password"}),e.jsx(i,{message:o.current_password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"password",children:"New password"}),e.jsx(l,{id:"password",ref:m,name:"password",type:"password",value:a.password,onChange:s=>t("password",s.target.value),autoComplete:"new-password",placeholder:"Enter new password"}),e.jsx(i,{message:o.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"password_confirmation",children:"Confirm new password"}),e.jsx(l,{id:"password_confirmation",name:"password_confirmation",type:"password",value:a.password_confirmation,onChange:s=>t("password_confirmation",s.target.value),autoComplete:"new-password",placeholder:"Confirm new password"}),e.jsx(i,{message:o.password_confirmation})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{disabled:h,children:"Save password"}),e.jsx(B,{show:w,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-green-600",children:"Password updated successfully"})})]})]})})})]})]})]})}export{Z as default};
