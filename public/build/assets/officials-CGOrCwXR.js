import{u as M,r as o,d as u,j as e,H as P,L as T,b as $}from"./app-CHrjJv7C.js";import D from"./layout-m7Xg1wfj.js";import{C as U}from"./circle-check-big-vnDm_P_G.js";import{C as L}from"./circle-x-xOJyD4ec.js";import{P as I}from"./plus-BxX3rjFJ.js";import{U as z}from"./user-Box3OUfj.js";import{S as B}from"./square-pen-CRaYV-cJ.js";import{T as H}from"./trash-2-aV_8TVVR.js";import{X}from"./x-6MjSoi9b.js";import"./app-B1aFYef8.js";import"./menu-O2FPrM1Y.js";import"./createLucideIcon-r-04NXR0.js";import"./chevron-down-Dus9dkDx.js";import"./log-out-yjwyG8Ps.js";import"./users-sN_XFzBw.js";import"./shield-DvdJl1qh.js";import"./calendar-C_pr95X7.js";import"./megaphone-BByCpEMB.js";import"./graduation-cap-Dd9e6YqM.js";import"./file-text-Dy-rehNU.js";function me(){const{officials:a=[]}=M().props,[l,r]=o.useState(!1),[t,d]=o.useState(!1),[m,j]=o.useState(null),[i,c]=o.useState(null);o.useEffect(()=>{if(i){const s=setTimeout(()=>c(null),3e3);return()=>clearTimeout(s)}},[i]);const{data:b,setData:y,post:v,processing:N,errors:x,reset:S}=u({complete_name:"",position:"",contact:"",address:"",term_start:"",term_end:"",status:"active",image:null}),w=s=>{s.preventDefault(),v("/sk/officials",{forceFormData:!0,onSuccess:()=>{S(),r(!1),c({type:"success",message:"SK Official added successfully!"})},onError:()=>c({type:"error",message:"Failed to add SK Official."})})},{data:C,setData:p,put:_,processing:E,reset:k}=u({complete_name:"",position:"",contact:"",address:"",term_start:"",term_end:"",image:null}),O=s=>{j(s),p({complete_name:s.complete_name||"",position:s.position||"",contact:s.contact||"",address:s.address||"",term_start:s.term_start||"",term_end:s.term_end||"",image:null}),d(!0)},K=s=>{s.preventDefault(),m&&_(`/sk/officials/${m.id}`,{forceFormData:!0,onSuccess:()=>{k(),d(!1),c({type:"success",message:"SK Official updated successfully!"})},onError:()=>c({type:"error",message:"Failed to update SK Official."})})},F=(s,n)=>{$.put(`/sk/officials/${s}`,{status:n},{preserveScroll:!0,onSuccess:()=>c({type:"success",message:`Status updated to "${n.toUpperCase()}"!`}),onError:()=>c({type:"error",message:"Failed to update status."})})},A=s=>s==="active"?"bg-green-100 text-green-700":s==="leave"?"bg-yellow-100 text-yellow-700":"bg-gray-200 text-gray-600";return e.jsxs(D,{children:[e.jsx(P,{title:"SK Officials"}),i&&e.jsxs("div",{className:`fixed top-6 right-6 z-50 flex items-center gap-3 shadow-2xl rounded-xl p-4 animate-slideIn transition-all duration-500
            ${i.type==="success"?"bg-green-50 border-l-4 border-green-600":"bg-red-50 border-l-4 border-red-600"}`,children:[e.jsx("div",{className:`rounded-full p-2 ${i.type==="success"?"bg-green-100":"bg-red-100"}`,children:i.type==="success"?e.jsx(U,{className:"w-6 h-6 text-green-600"}):e.jsx(L,{className:"w-6 h-6 text-red-600"})}),e.jsx("div",{children:e.jsx("p",{className:`font-semibold text-base ${i.type==="success"?"text-green-700":"text-red-700"}`,children:i.message})})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"SK Officials"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage youth officials information"})]}),e.jsxs("button",{onClick:()=>r(!0),className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 font-semibold shadow-md",children:[e.jsx(I,{className:"w-5 h-5"}),"Add Official"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase text-gray-700",children:"Photo"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase text-gray-700",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase text-gray-700",children:"Position"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase text-gray-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-6 text-gray-500 text-sm",children:"No SK officials found."})}):a.map(s=>e.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-gray-100 shadow-sm flex items-center justify-center",children:s.image_url?e.jsx("img",{src:s.image_url,alt:s.complete_name,className:"w-full h-full object-cover",onError:n=>n.currentTarget.src="/images/avatar-placeholder.png"}):e.jsx(z,{className:"w-6 h-6 text-gray-400"})})}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:s.complete_name}),e.jsx("td",{className:"px-6 py-4 text-gray-800",children:s.position}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("select",{value:s.status,onChange:n=>F(s.id,n.target.value),className:`border rounded-lg px-3 py-1.5 text-sm font-semibold ${A(s.status)}`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"leave",children:"Leave"})]})}),e.jsxs("td",{className:"px-6 py-4 flex gap-3 text-sm",children:[e.jsxs("button",{onClick:()=>O(s),className:"text-gray-700 hover:text-gray-900 font-semibold flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4"}),"Edit"]}),e.jsxs(T,{as:"button",method:"delete",href:`/sk/officials/${s.id}`,className:"text-red-600 hover:text-red-800 font-semibold flex items-center gap-1",onClick:n=>{confirm("Are you sure you want to delete this official?")||n.preventDefault()},children:[e.jsx(H,{className:"w-4 h-4"}),"Delete"]})]})]},s.id))})]})})]})}),l&&e.jsx(h,{title:"Add SK Official",onClose:()=>r(!1),children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx(f,{data:b,setData:y,errors:x}),e.jsx(g,{processing:N,onCancel:()=>r(!1),label:"Save"})]})}),t&&m&&e.jsx(h,{title:"Edit SK Official",onClose:()=>d(!1),children:e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsx(f,{data:C,setData:p,errors:x}),e.jsx(g,{processing:E,onCancel:()=>d(!1),label:"Update"})]})})]})}function h({title:a,onClose:l,children:r}){return e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity duration-300",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6 md:p-8 animate-fadeInUp",children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:a}),e.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700",children:e.jsx(X,{className:"w-5 h-5"})})]}),r]})})}function f({data:a,setData:l,errors:r}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Full Name"}),e.jsx("input",{type:"text",value:a.complete_name,onChange:t=>l("complete_name",t.target.value),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Position"}),e.jsx("input",{type:"text",value:a.position,onChange:t=>l("position",t.target.value),className:"input"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Contact"}),e.jsx("input",{type:"text",value:a.contact,onChange:t=>l("contact",t.target.value),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Address"}),e.jsx("input",{type:"text",value:a.address,onChange:t=>l("address",t.target.value),className:"input"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Term Start"}),e.jsx("input",{type:"date",value:a.term_start,onChange:t=>l("term_start",t.target.value),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Term End"}),e.jsx("input",{type:"date",value:a.term_end,onChange:t=>l("term_end",t.target.value),className:"input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Photo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>l("image",t.target.files?.[0]??null)})]})]})}function g({processing:a,onCancel:l,label:r}){return e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-6",children:[e.jsx("button",{type:"button",onClick:l,className:"btn-cancel",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":r})]})}export{me as default};
