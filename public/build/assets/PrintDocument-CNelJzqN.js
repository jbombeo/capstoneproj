import{r,a as i,j as e}from"./app-XOPTMjug.js";import"./app-nfuc1qUJ.js";const _=()=>{const[d,l]=r.useState([]),[s,o]=r.useState({resident_id:"",document_type:"Barangay Certificate",purpose:"",payment_method:""}),[n,c]=r.useState(null);r.useEffect(()=>{i.get("/api/residents").then(t=>{l(t.data)})},[]);const a=t=>{o({...s,[t.target.name]:t.target.value})},m=t=>{t.preventDefault(),i.post("/api/document-requests",s).then(p=>{c({...s,resident_name:d.find(u=>u.id===parseInt(s.resident_id))?.full_name||""}),setTimeout(()=>{window.print()},300)})};return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Request Document"}),e.jsxs("form",{onSubmit:m,className:"space-y-4 max-w-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Resident Name"}),e.jsxs("select",{name:"resident_id",value:s.resident_id,onChange:a,className:"border rounded w-full p-2",required:!0,children:[e.jsx("option",{value:"",children:"Select Resident"}),d.map(t=>e.jsx("option",{value:t.id,children:t.full_name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Document Type"}),e.jsxs("select",{name:"document_type",value:s.document_type,onChange:a,className:"border rounded w-full p-2",required:!0,children:[e.jsx("option",{value:"Barangay Certificate",children:"Barangay Certificate"}),e.jsx("option",{value:"Certificate of Indigenous",children:"Certificate of Indigenous"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Purpose"}),e.jsx("input",{type:"text",name:"purpose",value:s.purpose,onChange:a,className:"border rounded w-full p-2",placeholder:"Enter purpose",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Method"}),e.jsx("input",{type:"text",name:"payment_method",value:s.payment_method,onChange:a,className:"border rounded w-full p-2",placeholder:"Cash / GCash / etc.",required:!0})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Submit & Print"})]}),n&&e.jsx("div",{className:"hidden print:block mt-10",children:e.jsxs("div",{className:"border p-6 text-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Document Request"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Resident:"})," ",n.resident_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Document Type:"})," ",n.document_type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purpose:"})," ",n.purpose]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payment Method:"})," ",n.payment_method]}),e.jsx("p",{className:"mt-6",children:"Signature: ______________________"})]})})]})};export{_ as default};
