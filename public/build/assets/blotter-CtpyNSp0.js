import{r,u as d,d as S,j as e,H as B}from"./app-D5QSazoS.js";import{X as m}from"./x-DXvnSYwc.js";import{H as L,L as M}from"./log-out-h8hjAnQZ.js";import{U as A}from"./user-CZzjasbo.js";import{S as D}from"./shield-check-18aW0fbS.js";import{F}from"./file-text-KyAsM3U-.js";import{C as P}from"./clipboard-list-CoGPVvzg.js";import{M as H}from"./message-square-wnS7Ac4g.js";import{S as I}from"./settings-BBcYwnFq.js";import{M as O}from"./menu-DTx22WbA.js";import{c as x}from"./createLucideIcon-Cp3Xun1Q.js";import{E}from"./eye-BKPTQQeG.js";import"./app-D3Labj3k.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],z=x("CirclePlus",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],q=x("Phone",R);function le(){const[h,i]=r.useState(!1),[u,l]=r.useState(!1),[T,p]=r.useState(null),{props:g}=d(),{blotters:n,user:b,hotlines:f}=g,{data:t,setData:j,post:o,reset:N,errors:U}=S({complainant:b?.name||"",complainant_address:"",complainant_age:"",complainant_contact:"",complainee:"",complainee_address:"",complainee_age:"",complainee_contact:"",complaint:"",incident_datetime:""}),y=s=>{s.preventDefault(),o("/resident/blotters",{onSuccess:()=>{N(),l(!1)}})},w=[{name:"Home",icon:L,href:"/resident/home"},{name:"Profile",icon:A,href:"/resident/profile"},{name:"Officials",icon:D,href:"/resident/officials"},{name:"Documents",icon:F,href:"/resident/document-requests"},{name:"Blotter",icon:P,href:"/resident/blotters"},{name:"Suggest",icon:H,href:"/resident/feedback"},{name:"Settings",icon:I,href:"/resident/settings"}],{url:v}=d(),C=s=>v.startsWith(s),a=s=>{j(s.target.name,s.target.value)},_={unsettled:"bg-gradient-to-r from-red-500 to-red-600 text-white",settled:"bg-gradient-to-r from-green-500 to-green-600 text-white",scheduled:"bg-gradient-to-r from-blue-500 to-blue-600 text-white"};return e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"Resident Blotter"}),e.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[e.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-72 flex flex-col bg-gradient-to-b from-blue-900 to-blue-800 shadow-xl transform transition-transform duration-300 lg:static lg:translate-x-0 ${h?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center p-6 border-b border-blue-700",children:[e.jsx("button",{className:"absolute top-6 right-6 text-white lg:hidden",onClick:()=>i(!1),children:e.jsx(m,{className:"w-6 h-6"})}),e.jsx("img",{src:"/images/logo.png",alt:"Logo",className:"w-20 h-20 mb-3"}),e.jsx("h1",{className:"text-xl font-bold text-white text-center",children:"Barangay Portal"})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:w.map(({name:s,icon:k,href:c})=>e.jsxs("a",{href:c,className:`flex items-center rounded-lg p-3 transition ${C(c)?"bg-blue-700/60 text-white":"text-white hover:bg-blue-700/50"}`,children:[e.jsx(k,{className:"w-5 h-5 mr-3"}),s]},s))}),e.jsx("div",{className:"border-t border-blue-700 p-4",children:e.jsxs("button",{className:"flex items-center justify-center w-full bg-blue-700/50 text-white py-2 rounded-lg hover:bg-red-600 transition",onClick:()=>o("/logout"),children:[e.jsx(M,{className:"w-5 h-5 mr-2"}),"Logout"]})})]}),e.jsxs("main",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg p-4 sm:p-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"Blotter Records"}),e.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"File and view your complaints"})]}),e.jsx("button",{className:"lg:hidden bg-blue-700/50 p-2 rounded-lg",onClick:()=>i(!0),children:e.jsx(O,{className:"w-6 h-6"})})]}),e.jsxs("section",{className:"p-4 sm:p-6 lg:p-10 max-w-6xl mx-auto w-full",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Emergency Hotlines"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(s=>e.jsxs("div",{className:"rounded-2xl p-5 bg-white/60 backdrop-blur-md shadow-lg border border-gray-200 hover:shadow-xl transition cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx("div",{className:"bg-blue-100 text-blue-700 p-2 rounded-full shadow",children:e.jsx(q,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-gray-700 text-sm mb-4",children:s.number}),e.jsx("a",{href:`tel:${s.number}`,className:"w-full block text-center py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition",children:"Call Now"})]},s.id))})]}),e.jsx("section",{className:"p-4 sm:p-6 lg:p-10 space-y-6 max-w-6xl mx-auto w-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 overflow-x-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"My Filed Blotters"}),e.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg flex items-center text-sm",onClick:()=>l(!0),children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Add Blotter"]})]}),!n||n.length===0?e.jsx("p",{className:"text-gray-500 text-center py-6",children:"You have no blotter records yet."}):e.jsxs("table",{className:"w-full text-sm border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-700 hidden sm:table-header-group",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3",children:"Complainant"}),e.jsx("th",{className:"p-3",children:"Complainee"}),e.jsx("th",{className:"p-3",children:"Complaint"}),e.jsx("th",{className:"p-3",children:"Status"}),e.jsx("th",{className:"p-3",children:"Incident"}),e.jsx("th",{className:"p-3",children:"Filed On"}),e.jsx("th",{className:"p-3",children:"Action"})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{className:"border-t hover:bg-gray-50 sm:table-row block p-3 sm:p-0 bg-gray-50 sm:bg-transparent rounded-lg sm:rounded-none",children:[e.jsx("td",{className:"p-3",children:s.complainant}),e.jsx("td",{className:"p-3",children:s.complainee}),e.jsx("td",{className:"p-3",children:s.complaint}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize ${_[s.status.toLowerCase()]||"bg-gray-200 text-gray-700"}`,children:s.status})}),e.jsx("td",{className:"p-3",children:s.incident_datetime?new Date(s.incident_datetime).toLocaleString():"â€”"}),e.jsx("td",{className:"p-3",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"p-3",children:e.jsxs("button",{onClick:()=>p(s),className:"text-blue-600 hover:underline flex items-center",children:[e.jsx(E,{className:"w-4 h-4 mr-1"})," View"]})})]},s.id))})]})]})})]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>l(!1),children:e.jsxs("div",{className:"bg-white w-full max-w-lg sm:max-w-xl rounded-2xl shadow-2xl p-6 max-h-[90vh] overflow-y-auto animate-fade-in",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:"File a Blotter"}),e.jsx("button",{onClick:()=>l(!1),children:e.jsx(m,{className:"w-6 h-6 text-gray-600 hover:text-black"})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-2",children:"ðŸ‘¤ Complainant Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Complainant"}),e.jsx("input",{name:"complainant",value:t.complainant,readOnly:!0,className:"w-full border rounded px-3 py-2 bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Address"}),e.jsx("input",{name:"complainant_address",value:t.complainant_address,onChange:a,className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Age"}),e.jsx("input",{type:"number",name:"complainant_age",value:t.complainant_age,onChange:a,className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Contact"}),e.jsx("input",{name:"complainant_contact",value:t.complainant_contact,onChange:a,className:"w-full border rounded px-3 py-2"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-2",children:"âš ï¸ Complainee Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Complainee"}),e.jsx("input",{name:"complainee",value:t.complainee,onChange:a,className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Address"}),e.jsx("input",{name:"complainee_address",value:t.complainee_address,onChange:a,className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Age"}),e.jsx("input",{type:"number",name:"complainee_age",value:t.complainee_age,onChange:a,className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Contact"}),e.jsx("input",{name:"complainee_contact",value:t.complainee_contact,onChange:a,className:"w-full border rounded px-3 py-2"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-2",children:"ðŸ“ Incident Details"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-sm",children:"Date & Time"}),e.jsx("input",{type:"datetime-local",name:"incident_datetime",value:t.incident_datetime,onChange:a,className:"w-full border rounded px-3 py-2"})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"font-medium text-sm",children:"Incident Description"}),e.jsx("textarea",{name:"complaint",value:t.complaint,onChange:a,className:"w-full border rounded px-3 py-2 h-24"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Submit Blotter"})]})]})]})})]})}export{le as default};
