import{r as o,u as m,d as w,j as e,H as v}from"./app-Dp8eBqIU.js";import{X as x}from"./x-CosRwlaN.js";import{H as C,L as _}from"./log-out-BJ7NbZjK.js";import{U as S}from"./user-DtLczq3B.js";import{S as k}from"./shield-check-D7FC03LQ.js";import{F as L}from"./file-text-CLxDmEOh.js";import{C as D}from"./clipboard-list-Czd-FXhb.js";import{M as F}from"./message-square-DVXoYDdc.js";import{S as M}from"./settings-dOOLNFQc.js";import{M as B}from"./menu-B9O67PPD.js";import{c as h}from"./createLucideIcon-BgI95zP9.js";import"./app-BLU9PWWC.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],P=h("CirclePlus",A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],I=h("Phone",H);function J(){const[i,n]=o.useState(!1),[p,l]=o.useState(!1),{user:u,blotters:r,hotlines:g}=m().props,a=w({complainant:u?.name||"",complainant_address:"",complainant_age:"",complainant_contact:"",complainee:"",complainee_address:"",complainee_age:"",complainee_contact:"",complaint:"",incident_datetime:""}),j=s=>{s.preventDefault(),a.post("/resident/blotters",{onSuccess:()=>{a.reset(),l(!1)}})},t=s=>{a.setData(s.target.name,s.target.value)},b=[{name:"Home",icon:C,href:"/resident/home"},{name:"Profile",icon:S,href:"/resident/profile"},{name:"Officials",icon:k,href:"/resident/officials"},{name:"Documents",icon:L,href:"/resident/document-requests"},{name:"Blotter",icon:D,href:"/resident/blotters"},{name:"Suggest",icon:F,href:"/resident/feedback"},{name:"Settings",icon:M,href:"/resident/settings"}],{url:f}=m(),N=s=>f.startsWith(s),c={unsettled:"bg-red-500 text-white",settled:"bg-green-500 text-white",scheduled:"bg-blue-500 text-white"};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Resident Blotter"}),e.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[i&&e.jsx("div",{className:"fixed inset-0 bg-black/40 lg:hidden z-30",onClick:()=>n(!1)}),e.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-72 bg-blue-900 text-white shadow-xl transform transition-transform duration-300
          ${i?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0 lg:static`,children:[e.jsxs("div",{className:"relative p-6 text-center border-b border-blue-700",children:[e.jsx("button",{onClick:()=>n(!1),className:"absolute right-4 top-4 lg:hidden",children:e.jsx(x,{className:"w-6 h-6"})}),e.jsx("img",{src:"/images/logo.png",className:"w-20 mx-auto mb-3"}),e.jsx("h1",{className:"text-xl font-bold",children:"Barangay Portal"})]}),e.jsx("nav",{className:"p-4 space-y-1 overflow-y-auto",children:b.map(({name:s,icon:y,href:d})=>e.jsxs("a",{href:d,className:`flex items-center p-3 rounded-lg transition ${N(d)?"bg-blue-700/60 text-white":"hover:bg-blue-700/40"}`,children:[e.jsx(y,{className:"w-5 h-5 mr-3"}),s]},s))}),e.jsx("div",{className:"border-t border-blue-700 p-4",children:e.jsxs("button",{onClick:()=>a.post("/logout"),className:"w-full bg-red-600 hover:bg-red-700 py-2 rounded-lg flex items-center justify-center",children:[e.jsx(_,{className:"w-5 h-5 mr-2"})," Logout"]})})]}),e.jsxs("main",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"bg-blue-600 text-white p-4 shadow-md flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Blotter Records"}),e.jsx("p",{className:"text-blue-100",children:"File and view your complaints"})]}),e.jsx("button",{className:"lg:hidden p-2 bg-blue-700/40 rounded-lg",onClick:()=>n(!0),children:e.jsx(B,{className:"w-6 h-6"})})]}),e.jsxs("section",{className:"p-4 sm:p-6 lg:p-10 max-w-6xl mx-auto w-full",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Emergency Hotlines"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 border hover:shadow-lg transition",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("div",{className:"bg-blue-100 text-blue-700 p-2 rounded-full",children:e.jsx(I,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:s.number}),e.jsx("a",{href:`tel:${s.number}`,className:"block text-center py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Call Now"})]},s.id))})]}),e.jsx("section",{className:"p-4 sm:p-6 lg:p-10 max-w-6xl mx-auto w-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"My Filed Blotters"}),e.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",onClick:()=>l(!0),children:[e.jsx(P,{className:"w-4 h-4 mr-2"})," Add Blotter"]})]}),r.length===0?e.jsx("p",{className:"text-gray-500 text-center py-6",children:"You have no blotter records yet."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 lg:hidden",children:r.map(s=>e.jsxs("div",{className:"rounded-xl border p-4 shadow-sm bg-gray-50 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.complainee}),e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${c[s.status.toLowerCase()]}`,children:s.status})]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Complaint:"})," ",s.complaint]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Complainant:"})," ",s.complainant]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Incident:"})," ",s.incident_datetime?new Date(s.incident_datetime).toLocaleString():"—"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Filed:"})," ",new Date(s.created_at).toLocaleDateString()]})]},s.id))}),e.jsx("div",{className:"overflow-x-auto hidden lg:block",children:e.jsxs("table",{className:"w-full text-sm border rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3",children:"Complainant"}),e.jsx("th",{className:"p-3",children:"Complainee"}),e.jsx("th",{className:"p-3",children:"Complaint"}),e.jsx("th",{className:"p-3",children:"Status"}),e.jsx("th",{className:"p-3",children:"Incident"}),e.jsx("th",{className:"p-3",children:"Filed"})]})}),e.jsx("tbody",{children:r.map(s=>e.jsxs("tr",{className:"border-t hover:bg-gray-50 transition",children:[e.jsx("td",{className:"p-3",children:s.complainant}),e.jsx("td",{className:"p-3",children:s.complainee}),e.jsx("td",{className:"p-3",children:s.complaint}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${c[s.status.toLowerCase()]}`,children:s.status})}),e.jsx("td",{className:"p-3",children:s.incident_datetime?new Date(s.incident_datetime).toLocaleString():"—"}),e.jsx("td",{className:"p-3",children:new Date(s.created_at).toLocaleDateString()})]},s.id))})]})})]})]})})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white w-full max-w-xl rounded-xl shadow-2xl p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"File a Blotter"}),e.jsx("button",{onClick:()=>l(!1),children:e.jsx(x,{className:"w-6 h-6 text-gray-600 hover:text-black"})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Complainant Info"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("input",{name:"complainant",readOnly:!0,value:a.data.complainant,className:"border rounded px-3 py-2 bg-gray-100"}),e.jsx("input",{name:"complainant_address",placeholder:"Address",value:a.data.complainant_address,onChange:t,className:"border rounded px-3 py-2"}),e.jsx("input",{type:"number",name:"complainant_age",placeholder:"Age",value:a.data.complainant_age,onChange:t,className:"border rounded px-3 py-2"}),e.jsx("input",{name:"complainant_contact",placeholder:"Contact",value:a.data.complainant_contact,onChange:t,className:"border rounded px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Complainee Info"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("input",{name:"complainee",placeholder:"Complainee Name",value:a.data.complainee,onChange:t,className:"border rounded px-3 py-2"}),e.jsx("input",{name:"complainee_address",placeholder:"Address",value:a.data.complainee_address,onChange:t,className:"border rounded px-3 py-2"}),e.jsx("input",{type:"number",name:"complainee_age",placeholder:"Age",value:a.data.complainee_age,onChange:t,className:"border rounded px-3 py-2"}),e.jsx("input",{name:"complainee_contact",placeholder:"Contact",value:a.data.complainee_contact,onChange:t,className:"border rounded px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Incident Details"}),e.jsx("input",{type:"datetime-local",name:"incident_datetime",value:a.data.incident_datetime,onChange:t,className:"border rounded px-3 py-2 w-full"}),e.jsx("textarea",{name:"complaint",placeholder:"Describe the incident...",value:a.data.complaint,onChange:t,className:"border rounded px-3 py-2 w-full h-24 mt-3"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Submit Blotter"})]})]})]})})]})}export{J as default};
