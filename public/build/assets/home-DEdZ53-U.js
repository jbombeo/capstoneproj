import{r,c as H,j as e,H as S,L}from"./app-BYDD7jqK.js";import{X as T}from"./x-JC7lT9T1.js";import{H as B,S as M}from"./settings-D0VBnQjg.js";import{U as A}from"./user-xgZr-Gwy.js";import{S as O}from"./shield-check-7bCZdR1a.js";import{F as P}from"./file-text-BVrqHHw0.js";import{L as z}from"./log-out-Be8tPfcd.js";import{M as D}from"./menu-Ban9xf_5.js";import{C as i,H as g,M as F,T as R}from"./trophy-fpTJEI0g.js";/* empty css            */import"./createLucideIcon-DdLpzc9k.js";const $=({className:a="w-6 h-6"})=>e.jsxs("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"21"}),e.jsx("path",{d:"M8 6H4l-2 6 2 3h4l-2-3z"}),e.jsx("path",{d:"M20 6h-4l2 6-2 3h4l2-3z"}),e.jsx("circle",{cx:"12",cy:"3",r:"1"})]});function V({activities:a=[]}){const[o,n]=r.useState(!1),[l,c]=r.useState("upcoming"),{post:d}=H(),[f,p]=r.useState({}),[j,x]=r.useState({}),b=()=>d("/logout"),w=[{name:"Home",icon:B,href:"/resident/home"},{name:"Profile",icon:A,href:"/resident/profile"},{name:"Barangay Official",icon:O,href:"/resident/officials"},{name:"Request Document",icon:P,href:"/resident/document-requests"},{name:"Settings",icon:M,href:"/resident/settings"}],N=s=>{const t=s.toLowerCase();return t.includes("patrol")||t.includes("training")?i:t.includes("meeting")||t.includes("community")?F:t.includes("sports")||t.includes("fest")?R:t.includes("health")||t.includes("seminar")?g:i},m=new Date().toISOString().split("T")[0],v=a.filter(s=>s.dateofactivity>=m),y=a.filter(s=>s.dateofactivity<m),h=l==="upcoming"?v:y,k=s=>{p(t=>({...t,[s]:(t[s]??0)+1})),x(t=>({...t,[s]:!0})),setTimeout(()=>{x(t=>({...t,[s]:!1}))},800),d(`/activities/${s}/like`)};return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Resident Home"}),e.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[e.jsxs("aside",{className:`fixed inset-0 z-40 lg:static lg:w-80 bg-gradient-to-b from-blue-900 to-blue-800 shadow-2xl flex flex-col transition-transform duration-300 ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[e.jsxs("div",{className:"p-8 border-b border-blue-700 flex flex-col items-center justify-center relative",children:[e.jsx("button",{className:"lg:hidden absolute top-6 right-6 text-white",onClick:()=>n(!1),children:e.jsx(T,{className:"w-6 h-6"})}),e.jsx("div",{className:"w-20 h-20 mb-3 flex items-center justify-center",children:e.jsx("img",{src:"/images/logo.png",alt:"Barangay Logo",className:"w-90 h-90 object-contain rounded-full"})}),e.jsx("h1",{className:"text-2xl font-bold text-white text-center",children:"Barangay Portal"})]}),e.jsx("nav",{className:"flex-1 p-6 space-y-1",children:w.map(s=>e.jsxs(L,{href:s.href,className:"flex items-center p-4 rounded-lg hover:bg-green-700/50 text-white transition group",children:[e.jsx(s.icon,{className:"w-5 h-5 mr-4 text-white group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:s.name})]},s.name))}),e.jsx("div",{className:"p-6 border-t border-blue-700",children:e.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center p-4 rounded-lg bg-blue-700/50 hover:bg-red-600 text-white transition group",children:[e.jsx(z,{className:"w-5 h-5 mr-3 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>n(!1)}),e.jsxs("main",{className:"flex-1 min-h-screen",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 p-8 lg:p-12 text-white shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 rounded-full border-4 border-white/30 flex items-center justify-center bg-white/10",children:e.jsx($,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold",children:"Welcome to the"}),e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold",children:"Barangay Portal"}),e.jsx("p",{className:"mt-3 text-blue-100 text-lg",children:"Check the latest activities and events in your barangay"})]})]}),e.jsx("button",{className:"lg:hidden text-white bg-blue-700/50 p-2 rounded-lg",onClick:()=>n(!0),children:e.jsx(D,{className:"w-7 h-7"})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6 lg:p-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"inline-flex bg-gray-200 rounded-xl p-1 shadow-sm",children:[e.jsx("button",{className:`px-8 py-3 rounded-lg font-semibold transition-all ${l==="upcoming"?"bg-blue-600 text-white shadow-md":"bg-transparent text-gray-700 hover:text-gray-900"}`,onClick:()=>c("upcoming"),children:"Upcoming"}),e.jsx("button",{className:`px-8 py-3 rounded-lg font-semibold transition-all ${l==="past"?"bg-blue-600 text-white shadow-md":"bg-transparent text-gray-700 hover:text-gray-900"}`,onClick:()=>c("past"),children:"Past"})]})}),e.jsx("section",{className:"space-y-6",children:h.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(i,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-500 text-lg",children:["No ",l," activities or events available."]})]}):h.map(s=>{const t=N(s.activity);f[s.id];const C=j[s.id]??!1;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-shadow duration-300 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center p-4 border-b border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(t,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.activity}),e.jsx("p",{className:"text-sm text-gray-500",children:s.dateofactivity})]})]}),e.jsx("div",{className:"px-4 py-3 text-gray-700 text-sm whitespace-pre-line",children:s.description}),s.photos&&s.photos.length>0&&e.jsx("div",{className:"relative p-4 flex flex-wrap gap-2",children:s.photos.map(u=>e.jsxs("div",{className:"relative w-full sm:w-1/2 md:w-1/3 lg:w-1/4 h-48 overflow-hidden rounded-lg",children:[e.jsx("img",{src:u.url,alt:"Activity",className:"w-full h-full object-cover cursor-pointer",onDoubleClick:()=>k(s.id)}),C&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx(g,{className:"w-16 h-16 text-white drop-shadow-lg animate-ping"})})]},u.id))}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center space-x-4 text-gray-500"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Barangay Portal"})]})]},s.id)})})]})]})]})]})}export{V as default};
