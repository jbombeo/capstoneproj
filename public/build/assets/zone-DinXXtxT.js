import{u as L,r as t,j as e,H,a as x}from"./app-pOO083-e.js";import{A as T}from"./app-layout-Dc3hkrhW.js";import{I as m}from"./input-BNUIgu_-.js";import{B as l}from"./button-C04eTuKF.js";import{C as B,a as M}from"./card-7timp76z.js";import{D as b,a as P,b as N,c as y,d as v,f as w}from"./dialog-C6812wCE.js";import{L as Z}from"./label-C_a1iMIs.js";import{F as U,z as n}from"./index-CJOt3l_0.js";/* empty css            */import"./app-sidebar-header-COL4hiO2.js";import"./createLucideIcon-DoMVaiJs.js";import"./index-D3C--ds9.js";import"./index-hFgQNbVr.js";import"./index-BvNCmLem.js";import"./index-DwhOcVGB.js";import"./log-out-02q7rZj1.js";import"./x-C-J8wUVu.js";import"./index-D0bkFEMS.js";import"./settings-BYB2_0H7.js";import"./file-text-pZ84JjBm.js";function de(){const{zones:C}=L().props,[h,z]=t.useState(""),[D,u]=t.useState(!1),[S,d]=t.useState(!1),[p,i]=t.useState(null),[a,r]=t.useState({zone:""}),[E,c]=t.useState(!1),[j,f]=t.useState(null),o=()=>r({zone:""}),g=C.filter(s=>s.zone.toLowerCase().includes(h.toLowerCase())),A=()=>{x.post("/zones",a,{onSuccess:()=>{o(),u(!1),n.success("Zone added successfully!")},onError:()=>n.error("Failed to add zone.")})},F=s=>{i(s),r({zone:s.zone}),d(!0)},O=()=>{p&&x.put(`/zones/${p.id}`,a,{onSuccess:()=>{o(),d(!1),i(null),n.success("Zone updated successfully!")},onError:()=>n.error("Failed to update zone.")})},k=s=>{f(s),c(!0)},I=()=>{j&&x.delete(`/zones/${j}`,{onSuccess:()=>{n.success("Zone deleted successfully!"),c(!1),f(null)},onError:()=>n.error("Failed to delete zone.")})};return e.jsxs(T,{breadcrumbs:[{title:"Zones",href:"#"}],children:[e.jsx(H,{title:"Zones"}),e.jsx(U,{position:"top-center",reverseOrder:!1}),e.jsx("div",{className:"flex justify-between items-center mb-8 bg-green-600 text-white shadow-lg p-6",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Zone List"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(m,{placeholder:"Search by zone...",value:h,onChange:s=>z(s.target.value),className:"max-w-sm"}),e.jsxs(b,{open:D,onOpenChange:s=>{u(s),s||o()},children:[e.jsx(P,{asChild:!0,children:e.jsx(l,{className:"bg-blue-600 text-white hover:bg-blue-700",children:"+ Add Zone"})}),e.jsxs(N,{className:"sm:max-w-md",children:[e.jsx(y,{children:e.jsx(v,{children:"Add New Zone"})}),e.jsx("div",{className:"space-y-4 mt-2",children:e.jsxs("div",{children:[e.jsx(Z,{children:"ZONE"}),e.jsx(m,{value:a.zone,onChange:s=>r({...a,zone:s.target.value})})]})}),e.jsx(w,{className:"mt-4",children:e.jsx(l,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",onClick:A,children:"Add Zone"})})]})]})]}),e.jsx(B,{className:"shadow-md rounded-2xl overflow-x-auto",children:e.jsx(M,{className:"p-4",children:e.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"ID"}),e.jsx("th",{className:"px-4 py-2",children:"Zone"}),e.jsx("th",{className:"px-4 py-2",children:"Action"})]})}),e.jsx("tbody",{children:g.length>0?g.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-2",children:s.id}),e.jsx("td",{className:"px-4 py-2",children:s.zone}),e.jsxs("td",{className:"px-4 py-2 space-x-2",children:[e.jsx(l,{size:"sm",variant:"outline",onClick:()=>F(s),children:"Edit"}),e.jsx(l,{size:"sm",variant:"destructive",onClick:()=>k(s.id),children:"Delete"})]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No zones found"})})})]})})})]}),e.jsx(b,{open:S,onOpenChange:s=>{d(s),s||(o(),i(null))},children:e.jsxs(N,{className:"sm:max-w-md",children:[e.jsx(y,{children:e.jsx(v,{children:"Edit Zone"})}),e.jsx("div",{className:"space-y-4 mt-2",children:e.jsxs("div",{children:[e.jsx(Z,{children:"ZONE"}),e.jsx(m,{value:a.zone,onChange:s=>r({...a,zone:s.target.value})})]})}),e.jsx(w,{className:"mt-4",children:e.jsx(l,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",onClick:O,children:"Update Zone"})})]})}),E&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-96 p-6 border border-gray-300",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Confirm Delete"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this zone? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded",children:"Cancel"}),e.jsx("button",{onClick:I,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded",children:"Delete"})]})]})})]})}export{de as default};
