import{u as S,r as a,j as e,H as A,b as u}from"./app-_wj1wiEc.js";import{A as F}from"./app-layout-BSN3Q_UY.js";import{I as c}from"./input-CaSbsQoB.js";import{B as n}from"./button-HZSfloRH.js";import{C as L,a as k}from"./card-DUg4c0sP.js";import{D as j,e as B,a as g,b as f,c as b,f as N}from"./dialog-BHDE3h_S.js";import{L as w}from"./label-DuuBaXdl.js";import{F as H,z as l}from"./index-9aUBe4GY.js";import"./app-DgE45SX0.js";import"./utils-csTuJWuA.js";import"./clsx-B-dksMZM.js";import"./index-DVkLe2dy.js";import"./index-DlLLoGOC.js";import"./index-Dl6FYVux.js";import"./index-CObx42Nt.js";import"./x-cF_pgnf8.js";import"./createLucideIcon-Dk2zpREm.js";import"./index-BRMnPjnz.js";import"./chevron-down-Ciywszaj.js";import"./index-CRvzyME4.js";import"./index-CDy59-5j.js";import"./index-CMWG4mbA.js";import"./log-out-CytyyNiJ.js";import"./users-CzPkGoWA.js";import"./map-pin-K0z2MPXY.js";import"./file-text-ZNTU_lRQ.js";import"./clipboard-list-iHk9S1ba.js";import"./settings-B87Gxw1-.js";function ce(){const{zones:y}=S().props,[m,Z]=a.useState(""),[v,x]=a.useState(!1),[z,i]=a.useState(!1),[p,d]=a.useState(null),[t,r]=a.useState({zone:""}),o=()=>r({zone:""}),h=y.filter(s=>s.zone.toLowerCase().includes(m.toLowerCase())),C=()=>{u.post("/zones",t,{onSuccess:()=>{o(),x(!1),l.success("Zone added successfully!")},onError:()=>l.error("Failed to add zone.")})},D=s=>{d(s),r({zone:s.zone}),i(!0)},E=()=>{p&&u.put(`/zones/${p.id}`,t,{onSuccess:()=>{o(),d(null),i(!1),l.success("Zone updated successfully!")},onError:()=>l.error("Failed to update zone.")})};return e.jsxs(F,{breadcrumbs:[{title:"Zones",href:"#"}],children:[e.jsx(A,{title:"Zones"}),e.jsx(H,{position:"top-right"}),e.jsxs("div",{className:"mb-10 bg-gradient-to-r from-green-700 to-green-500 text-white p-8 rounded-xl shadow-xl",children:[e.jsx("h1",{className:"text-4xl font-extrabold",children:"Barangay Zones"}),e.jsx("p",{className:"opacity-90 text-sm",children:"Manage and organize residential zones within the barangay."})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white px-5 py-4 rounded-xl shadow border",children:[e.jsx(c,{placeholder:"Search zone...",value:m,onChange:s=>Z(s.target.value),className:"max-w-md"}),e.jsxs(j,{open:v,onOpenChange:s=>{x(s),s||o()},children:[e.jsx(B,{asChild:!0,children:e.jsx(n,{className:"bg-blue-600 text-white hover:bg-blue-700",children:"+ Add Zone"})}),e.jsxs(g,{className:"sm:max-w-md",children:[e.jsx(f,{children:e.jsx(b,{children:"Add New Zone"})}),e.jsx("div",{className:"space-y-4 mt-2",children:e.jsxs("div",{children:[e.jsx(w,{children:"Zone Name"}),e.jsx(c,{value:t.zone,onChange:s=>r({...t,zone:s.target.value})})]})}),e.jsx(N,{className:"mt-4",children:e.jsx(n,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",onClick:C,children:"Add Zone"})})]})]})]}),e.jsx(L,{className:"shadow-xl rounded-2xl border overflow-x-auto",children:e.jsx(k,{className:"p-0",children:e.jsxs("table",{className:"w-full text-sm text-left table-fixed min-w-[600px]",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 w-20",children:"ID"}),e.jsx("th",{className:"px-6 py-3 w-96",children:"Zone"}),e.jsx("th",{className:"px-6 py-3 w-40 text-center",children:"Action"})]})}),e.jsx("tbody",{children:h.length>0?h.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 font-semibold",children:s.id}),e.jsx("td",{className:"px-6 py-4",children:s.zone}),e.jsx("td",{className:"px-6 py-4 text-center space-x-2",children:e.jsx(n,{size:"sm",variant:"outline",onClick:()=>D(s),children:"Edit"})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-8 text-gray-500",children:"No zones found"})})})]})})})]}),e.jsx(j,{open:z,onOpenChange:s=>{i(s),s||(o(),d(null))},children:e.jsxs(g,{className:"sm:max-w-md",children:[e.jsx(f,{children:e.jsx(b,{children:"Edit Zone"})}),e.jsx("div",{className:"space-y-4 mt-2",children:e.jsxs("div",{children:[e.jsx(w,{children:"Zone Name"}),e.jsx(c,{value:t.zone,onChange:s=>r({...t,zone:s.target.value})})]})}),e.jsx(N,{className:"mt-4",children:e.jsx(n,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",onClick:E,children:"Update Zone"})})]})})]})}export{ce as default};
